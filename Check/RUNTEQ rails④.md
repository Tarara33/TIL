# Chapter4

## マイグレーションってどういうものでどんなことが出来ますか？
開発状況に応じてデータベース内にテーブルやカラム、インデックスなどを追加/削除したり、   
既存データに修正を加えることを楽に行えるもの。
マイグレーションにおいては、１つのマイグレーションファイルが1つのバージョンとして扱われるので、    
バージョンの上げ下げを細かくできる。  
⚠️ファイルの作成だけでは変更は適応されない
~~~
$ bin/rails g migration マイグレーション名
マイグレーションファイル作成

ファイルに変更など記述した後
$ bin/rails db:migrate
=> 変更が適応される
~~~
現在のマイグレーションを確認したい時は「db/schema.rb」に書いてある
***

### マイグレーションコマンド
- `bin/rails or rails db:migrate`...最新までマイグレーションを適応する
- `bin/rails or rails db:migrate　VERSION=ファイル名の数字`...特定バージョンまでマイグレーションされた状態にする
例：「20220505120641_create_tasks.rb」だったら「20220505120641」をVERSION=に入れる
- `bin/rails or rails db:rollback`...バージョンを１つ戻す
- `bin/rails or rails db:rollback STEP=数字`...バージョンを指定したステップ数だけ戻す
- `bin/rails or rails db:migrate:redo`...バージョンを１つ戻してから上げる
（バージョンは最終的に変化しないが、バージョンを戻す処理が想定通り動くか簡単に確認できる）
***

## db/schema.rbってどういうファイルですか？
現在のデータベース構造を記入されてるファイル。   
自動出力される。
***

## モデルの「検証」(バリデーション)はどういうときに行われますか？
