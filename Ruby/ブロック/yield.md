# yield
渡されたブロックの実行をするメソッド。

例えばこのようなメソッドがあった時、普通にメソッド呼び出すとこうなる。
~~~
def greet
  puts "おはよう"
end

greet
=> おはよう
~~~

例えば呼び出す側がブロックタイプだとしても、特にブロックの中身は使われない。
~~~
greet do
  puts "朝ごはん食べた?"
end
=> おはよう
~~~
この呼び出し側のブロックの実行をするのが yield!
***

# 使い方
渡すブロックの実行をしたいところに `yield`とかく。
~~~
def greet
  puts "おはよう"
  yield
end

greet do
  puts "朝ごはん食べた?"
end
=> おはよう
=> 朝ごはん食べた?
~~~
***

## 何回でも使える
yieldは何回かいてもOK
~~~
def greet
  puts "おはよう"
  ⭕️yield
  ⭕️yield
end

greet do
  puts "朝ごはん食べた?"
end
=> おはよう
=> ⭕️朝ごはん食べた?
=> ⭕️朝ごはん食べた?
~~~
***

## ⭐️ 引数を渡せる・戻り値を受け取れる
~~~
def greet
  ② puts "おはよう"
  text = ③ yield('やっほー')
  ⑤ puts text
  ⑥ puts "バイバイ"
end

① 💚greet do |text|
  ④ text * 2
end

=> おはよう
=> やっほーやっほー
=> バイバイ
~~~
① greetメソッドが💚ブロックと一緒に呼び出される。  

② puts "おはよう"が実行される。  

③ yield('やっほー')でブロックが実行され、'やっほー'が💚ブロックに渡される。 (引数)   
  ここでtextにはブロックの引数として渡された'やっほー'が入る。   
  
④ ブロック内で text * 2が実行され、'やっほー' * 2の結果'やっほーやっほー'が yieldにより返される。(戻り値)   

⑤ puts textで、'やっほーやっほー'が出力される。  

⑥ puts "バイバイ"が実行される。
***

## 💡 引数の過不足に寛容
例えば💚ブロックに渡す引数が多くても、エラーにはならず無視される。
~~~
...
text = yield('やっほー', 12345)
...

greet do |text|
  text * 2
end

=> おはよう
=> やっほーやっほー
=> バイバイ
~~~

逆にブロックパラメーターが多い場合、余ったのは nilになる。
~~~
...
text = yield('やっほー')
...

reet do |text, other|
  # inspectつけないとエラーなる。
  text * 2 + other.inspect
end

=> おはよう
=> やっほーやっほーnil
=> バイバイ
~~~
***
