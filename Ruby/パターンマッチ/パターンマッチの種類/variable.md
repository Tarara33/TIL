# valiable
in節の
これを使うとパターンマッチングの中でマッチした値を変数に割り当てることができる。    
これがあると、条件に合ったデータを取り出して、そのデータをもとに別の処理をするときに、めちゃくちゃ便利！

例えば、次のように`in obj`と書くとあらゆるオブジェクトがマッチして変数 `obj`に代入される。
~~~
【文字列もマッチ】
case 'alice'
in obj
  "obj = #{obj}"
end

p obj
=> alice
-----------------------

【数値もマッチ】
case 123
in obj
  "obj = #{obj}"
end

p obj
=> 123
~~~
[ここ](https://github.com/Tarara33/TIL/blob/main/Ruby/%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%83%9E%E3%83%83%E3%83%81/%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%83%9E%E3%83%83%E3%83%81%E3%81%A8%E3%81%AF.md#%E9%85%8D%E5%88%97%E7%B7%A8)に書いてある配列編と同じ。  
要素をそのまま処理に使えるよってこと。
***

# ピン演算子(`^`)
既に値が決まっている別の変数をパターンとして使いたい場合にピン演算子を使う。    
「この箱（変数）の中身と同じものを探してね」とプログラムにお願いするような感じ！
~~~
x = 3
y = 3

case x
in ^y
  puts "xはyと同じ値#{y}だね！"
else
  puts "マッチしないよ"
end

=> xはyと同じ値 3だね！
~~~
***

## ❓ あまり必要性を感じない
~~~
x = 3
y = 3

case x
in 3
  puts "xはyと同じ値#{y}だね！"
else
  puts "マッチしないよ"
end

=> xはyと同じ値 3だね！
~~~
元から xと yの値がわかってるので in節で指定すればいいじゃん。
***

## 💡 こんな時に便利
例えばコンピューターが自動で数値を決めて、  
それを当てるゲームだといちいち in節に全てのパターン( in 1... in 2...)書くの大変！  

そんな時に「この箱（ランダム数値)の中身と同じ数値を探してね」が使える。
~~~
num = rand(1..10)
get_num = gets.to_i

case num
in ^get_num
  puts "正解、数値は#{get_num}でした"
else
  puts "ハズレ、数値は#{num}でした"
end
~~~
***

# in節で代入された変数を同じ in節で参照できる
~~~
