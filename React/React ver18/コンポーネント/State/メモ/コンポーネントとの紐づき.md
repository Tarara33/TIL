# ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç´ã¥ã
åŸºæœ¬çš„ã« Reactã¯ãƒ„ãƒªãƒ¼ã®ä½ç½®ãŒåŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® Stateã‚’**åˆ¥**ã§ä¿æŒã™ã‚‹ã€‚

[![Image from Gyazo](https://i.gyazo.com/3a8be7b0ef5dac69f44ce328f257861d.png)](https://gyazo.com/3a8be7b0ef5dac69f44ce328f257861d)


ã—ã‹ã—ã€ åˆ‡ã‚Šæ›¿ãˆè¡¨ç¤ºãªã©ã§ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ Stateã¯å…±æœ‰ã•ã‚Œã‚‹ã€‚  
CountA ã§ã‚«ã‚¦ãƒ³ãƒˆã‚’20ã«ã—ã¦ã€CountBã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ã€ã‚«ã‚¦ãƒ³ãƒˆã¯20ã‹ã‚‰å§‹ã¾ã‚‹ã€‚

[![Image from Gyazo](https://i.gyazo.com/f21b65a85be04744b3f2c76f84c28aaa.png)](https://gyazo.com/f21b65a85be04744b3f2c76f84c28aaa)

***

# åˆ¥ã§ä¿æŒã—ãŸã„å ´åˆ...keyã‚’ã¤ã‘ã‚‹
ãã‚Œãã‚Œã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã« keyã‚’è¨­å®šã™ã‚‹ã¨åˆ¥ã® StateãŒä¿æŒã•ã‚Œã‚‹ã€‚
~~~
import { useState } from "react";

const Example = () => {
  const [toggle, setToggle] = useState(true);

  const toggleComponent = () => {
    setToggle(toggle => !toggle)

  }

  return (
    <>
      <button onClick={toggleComponent}>toggle</button>
      {toggle ? <Count â­ï¸key="A" title="A"/> : <Count â­ï¸key="B" title="B"/>}
    </>
  )
};

--------------------------------------------------------------------------
[å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ]

const Count = ({title}) => {
  const [count, setCount] = useState(0);
  const countUp = () => {
    setCount((prevstate) => prevstate + 1);
  };
  const countDown = () => {
    setCount(count - 1);
  };
  return (
    <>
      <h3>{title}: {count}</h3>
      <button onClick={countUp}>+</button>
      <button onClick={countDown}>-</button>
    </>
  );
};
~~~
***

# åˆ‡ã‚Šæ›¿ãˆãŸæ™‚ã« Stateã‚’æ®‹ã—ã¦ãŠããŸã„
ä¸Šè¨˜ã®åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ã€æ¯å›ã‚«ã‚¦ãƒ³ãƒˆã¯ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã€‚  
ãã‚Œã‚’ã‚«ã‚¦ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆAã¯ StateAã‚’ã€ã‚«ã‚¦ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆBã¯ StateBã‚’æŒã£ã¦ãŠã„ã¦ã€  
åˆ‡ã‚Šæ›¿ãˆãŸæ™‚ã«é€”ä¸­ã‹ã‚‰ã‚«ã‚¦ãƒ³ãƒˆç¶šã‘ãŸã„å ´åˆã€‚

## ğŸ’¡è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã« Stateã‚’ãŠã„ã¦ propsã§æ¸¡ã™ã€‚
~~~
import { useState } from "react";

const Example = () => {
  const [ toggle, setToggle ] = useState(true);
  ğŸ’šconst [countA, setCountA] = useState(0);
  ğŸ©µconst [countB, setCountB] = useState(0);
  const toggleComponent = () => {
    setToggle(prev => !prev);
  }
  return (
    <>
    <button onClick={toggleComponent}>toggle</button>
    {toggle ? <Count key="A" title="A" ğŸ’šcount={countA} setCount={setCountA}/> : <Count key="B" title="B" ğŸ©µcount={countB} setCount={setCountB}/>}
    </>
  )
}

--------------------------------------------------------------------------
[å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ]

const Count = ({ title, â­ï¸count, setCount }) => {
  
  const countUp = () => {
    setCount((prevstate) => prevstate + 1);
  };
  const countDown = () => {
    setCount(count - 1);
  };
  return (
    <>
      <h3>{title}: {count}</h3>
      <button onClick={countUp}>+</button>
      <button onClick={countDown}>-</button>
    </>
  );
};
~~~
ğŸ’šğŸ©µ ãã‚Œãã‚Œã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”¨ã® Stateã‚’ä½œã‚‹ã€‚  
â­ï¸ propsã§å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸æ¸¡ã™ã€‚
***
