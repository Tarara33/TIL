# DBにデーターを追加
例えばUserテーブルの情報をコンソール内で作ったり、見たりする。
~~~
[db/schem.rb]
create_table "users", force: :cascade do |t|
    t.string "email", null: false
    t.string "crypted_password"
    t.string "salt"
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
    t.string "first_name", null: false
    t.string "last_name", null: false
    t.index ["email"], name: "index_users_on_email", unique: true
  end
~~~
***

# 作る　（new　と　create）
例えば新しくUserモデルにデータを登録したいとき
~~~
$ user = User.new(name: "Taro")
$ user.save

or

$ User.create(name: "Taro")
~~~
- new...saveをしないとデータベースに登録されない
- create... save含んでる
***



## 見る（アソシエーション先の情報）
例えばBoardモデルとアソシエーションしていたらBoardテーブルの情報も見れる。
~~~
reate_table "boards", force: :cascade do |t|
    t.string "title", null: false
    t.text "body", null: false
    t.integer "user_id"
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
    t.string "board_image"
    t.index ["user_id"], name: "index_boards_on_user_id"
  end
~~~
***

- 特定のUserインスタンスのboardを見る
~~~
$ user = User.first
$ user.boards
~~~
[![Image from Gyazo](https://i.gyazo.com/e5e932e961f2837522f06cb5d31052f2.png)](https://gyazo.com/e5e932e961f2837522f06cb5d31052f2)
***

- そのboardたちの中のidが４のboardを見る
~~~
$ user.boards.find(4)
~~~
[![Image from Gyazo](https://i.gyazo.com/43b89f18ec20497288a8338c8f653fdc.png)](https://gyazo.com/43b89f18ec20497288a8338c8f653fdc)
***

- idが４のboardのtitleを見る
~~~
$ user.board.find(4).title
~~~
[![Image from Gyazo](https://i.gyazo.com/603459bd4228726782b4348e88324ee1.png)](https://gyazo.com/603459bd4228726782b4348e88324ee1)
***

# pluck
カラムの中の情報たちを配列にして返してくれる。        
`モデル名.plick(:カラム名)`で定義する。        
~~~
[rails c]
irb(main):002:0> User.pluck(:first_name)
   (1.2ms)  SELECT "users"."first_name" FROM "users"
=> ["s", "拓海", "美咲", "優花", "大輔", "優", "優", "舞", "悠人", "太一", "優菜", "愛美", "優菜", "優花", "輝", "健", "太郎", "優斗", "翔", "美優", "m"]
~~~
***

# find_or_create_by
~~~
User.find_by_or_create(name: 'Tarara')
~~~
のように使い、
Userモデルに nameが’Tarara'のユーザーを探してあれば返す、なければ作って返す
といったメソッド。
***

# toggle
booleanの値(true or false)を反転させる。
***

## toggle と toggle!
- toggle    
反転するが、データベースには変更を反映しない。        
処理成功時に指定の booleanを反転させたインスタンス自身を returnしてくれる。(selfを返す)
~~~
[rails c]

$ $ user = User.first
$ user.admin?
=> false
$ user.toggle(:admin)
=> userのインスタンス情報返してくる。
$ user.admin?
=> false
~~~

      
- toggle!    
反転させて、データベースに保存する。    
処理成功時に trueを returnする。
~~~
[rails c]

$ user = User.first
$ user.admin?
=> false
$ user.toggle!(:admin)
=> うまくいけば true返す。
$ user.admin?
=> true
~~~
***
