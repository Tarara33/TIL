# сЃєсЃ╝сЃќсЃФухљтљѕсЂЌсЂдТјбсЂЎ (joinsсЃАсѓйсЃЃсЃЅ)
сЃєсЃ╝сЃќсЃФтљїтБФсѓњухљтљѕсЂЎсѓІсЃАсѓйсЃЃсЃЅсђѓ
УцЄТЋ░сЂ«сЃєсЃ╝сЃќсЃФсѓњухљтљѕсЂЌсЂдсѓ»сѓесЃфсѓњТіЋсЂњсѓІсЂЪсѓЂсђЂті╣ујЄуџёсЂФсЃЄсЃ╝сѓ┐сѓњтЈќтЙЌсЂДсЂЇсѓІсђѓ

`сЃбсЃЄсЃФтљЇ.joins(:ухљтљѕсЃбсЃЄсЃФтљЇ)...`сЂесЂёсЂєТЏИсЂЇТќ╣сђѓ  
Рџа№ИЈ ухљтљѕсЂЎсѓІсЃбсЃЄсЃФсЂїтЇўТЋ░у│╗сЂІУцЄТЋ░тйбсЂІсЂ»сђЂ  
жђџтИИсЃбсЃЄсЃФтљЇсЂ«УцЄТЋ░тйбсђЂсЂЙсЂЪсЂ» has_manyсЂІ has_oneсЂДсЂцсЂЉсЂЪжќбжђБТђДсЂДТ▒║сѓЂсѓІсђѓ
~~~
[rails c]

$ Post.joins(:user).where(user: {name: 'Tarara'}).size
=> сЃдсЃ╝сѓХсЃ╝сЃЇсЃ╝сЃасЂї TararaсЂ«С║║сЂ«ТіЋуе┐ТЋ░сѓњТцюу┤б
~~~
***

## РЮЊ joinsсЂЌсЂЪТЎѓсЂ« Тцюу┤бсЂ«ТЏИсЂЇТќ╣
### Тцюу┤бт»ЙУ▒АсЂ«сѓФсЃЕсЃасЂїтЁЃсЂ«сЃбсЃЄсЃФсЂФсЂѓсѓІта┤тљѕ
ујІжЂЊсЂФ`whereсѓё find_byсЂфсЂЕ(сѓФсЃЕсЃатљЇ: '')`сЂДТцюу┤бсЂЎсѓІсђѓ  
 
СЙІ: PostсЃбсЃЄсЃФсЂФ UserсЃбсЃЄсЃФсѓњ joinsсЂЌсЂдсђЂТцюу┤бсЂЌсЂЪсЂёсЂ«сЂ» PostсЃбсЃЄсЃФсЂ« titleсѓФсЃЕсЃасЂ«ТЎѓ 
~~~
[rails c]

$ Post.joins(:user).find_by(title: 'Rails')
~~~
***

### Тцюу┤бт»ЙУ▒АсЂ«сѓФсЃЕсЃасЂїухљтљѕтЁѕсЂ«сЃбсЃЄсЃФсЂФсЂѓсѓІта┤тљѕ
`whereсѓё find_byсЂфсЂЕ(ухљтљѕсЃбсЃЄсЃФтљЇ: {сѓФсЃЕсЃатљЇ№╝џ ''})`сЂесЃЈсЃЃсѓисЃЦсЂДсЂІсЂЈсђѓ

СЙІ: PostсЃбсЃЄсЃФсЂФ UserсЃбсЃЄсЃФсѓњ joinsсЂЌсЂдсђЂТцюу┤бсЂЌсЂЪсЂёсЂ«сЂ» UserсЃбсЃЄсЃФсЂ« nameсѓФсЃЕсЃасЂ«ТЎѓ 
~~~
[rails c]

$ Post.joins(:user).where(user: { name: 'Tarara' })
~~~
***

## РЮЊ сѓбсѓйсѓисѓесЃ╝сѓисЃДсЃ│сЂЌсЂдсЂдсѓѓ joinsСй┐сЂБсЂдсЂёсЂёсЂ«№╝Ъ№╝Ъ
ухљУФќсђЂсЂёсЂё№╝Ђ 
joinsсѓњСй┐сЂєсЂеСйЋсЂїсЂёсЂёсЂІсЂесЂёсЂєсЂесђЂсѓ»сѓесЃфсЂ«уЎ║УАїТЋ░сЂїт░ЉсЂфсЂЈсЂфсѓІсђѓ 
 
ТгАсЂ«СЙІсЂ»сђЂТцюу┤бухљТъюсЂ»тљїсЂўсЂасЂїсђЂсѓ»сѓесЃфуЎ║УАїТЋ░сЂїсЂАсЂїсЂєсђѓ 
 
### сѓбсѓйсѓисѓесЃ╝сѓисЃДсЃ│Сй┐сЂБсЂдТцюу┤бсЂЌсЂЪта┤тљѕ
~~~
[rails c]

$ Post.find_by(title: 'уюасЂё').users.name
=> PostсЃєсЃ╝сЃќсЃФсЂІсѓЅсђЂtitleсЂї 'уюасЂё'сЂ«ТіЋуе┐сѓњТјбсЂЎсЂ«сЂФ 1сѓ»сѓесЃф
   сЂЮсЂ«ТіЋуе┐сЂФжќбжђБсЂЎсѓІ UserсЂ« nameсѓњТјбсЂЎсЂ«сЂФсђђ1сѓ»сѓесЃф

Уеѕ: 2сѓ»сѓесЃф
~~~
***

### joinsСй┐сЂБсЂдТцюу┤бсЂЌсЂЪта┤тљѕ
~~~
[rails c]

$ Post.joins(:user).find_by( title: 'уюасЂё').user.name
=> joinsсѓњСй┐сЂБсЂд PostсЂе UserсЃєсЃ╝сЃќсЃФсѓњухљтљѕсЂЌсђЂсЂЮсЂ«СИісЂДТЮАС╗ХсЂФтљѕсЂєсЃгсѓ│сЃ╝сЃЅсѓњТјбсЂЎ titleсђђ'уюасЂё'сѓњТіЋуе┐сЂЌсЂЪ user nameсѓњТјбсЂЎсЂ«сЂФ 1сѓ»сѓесЃф

Уеѕ: 1сѓ»сѓесЃф
~~~
***

## РЮЊ ухљтљѕсЂЌсЂЪсЂёсЃєсЃ╝сЃќсЃФсЂїуЏ┤ТјЦжќбжђБсЂЦсЂЉсѓЅсѓїсЂдсЂфсЂёта┤тљѕ
UserсЃбсЃЄсЃФсЂФ ImageсЃбсЃЄсЃФсѓњ joinsсЂЌсЂЪсЂёсЂїуЏ┤ТјЦсѓбсѓйсѓисѓесЃ╝сѓисЃДсЃ│сЂЋсѓїсЂдсЂёсЂфсЂёсђѓ 
сЂЮсЂ«та┤тљѕсЂ» №╝њсЂцсЂ«сЃбсЃЄсЃФсЂежќбжђБсЂЦсЂёсЂдсѓІсЃбсЃЄсЃФсѓњСИГжќЊсЃєсЃ╝сЃќсЃФсЂ«сѓѕсЂєсЂФсЂЎсѓІсђѓ 

`сЃбсЃЄсЃФтљЇ.joins(СИГжќЊсЃбсЃЄсЃФтљЇ: :ухљтљѕсЂЌсЂЪсЂёсЃбсЃЄсЃФтљЇ)`
~~~
[rails c]

$ User.joins(posts: :images).where(images: {url: 'png'} )
=> UserсЃбсЃЄсЃФсЂІсѓЅ ImageсЃбсЃЄсЃФсЂ« urlсѓФсЃЕсЃасЂІсѓЅсђђ'png'сѓњТцюу┤б
~~~
­ЪњА posts: :imagesсЂїУцЄТЋ░тйбсЂфсЂ«сЂ»сѓбсѓйсѓисѓесЃ╝сѓисЃДсЃ│сЂД  
- user : post = 1 : тцџ  
- post : image = 1 : тцџ
   
сЂ«жќбжђБсЂЦсЂЉсЂет«џуЙЕсЂЎсѓІсђѓ 
***

### РЮЊ сЂЋсѓЅсЂФсЃбсЃЄсЃФсѓњухїућ▒сЂЎсѓІсЂесЂЇ
UserсЃбсЃЄсЃФсЂФ ImageсЃбсЃЄсЃФсѓњ joinsсЂЌсЂЪсЂёсЂїуЏ┤ТјЦсѓбсѓйсѓисѓесЃ╝сѓисЃДсЃ│сЂЋсѓїсЂдсЂёсЂфсЂёсђѓ   
СИГжќЊсЃєсЃ╝сЃќсЃФсЂесЂЌсЂдухїућ▒сЂЎсѓІсЂ«сЂ» PostсЃєсЃ╝сЃќсЃФсЂе MediaсЃєсЃ╝сЃќсЃФсђѓ 
~~~
[rails c]

$ User.joins(posts: { medias: :images}).where(images: {url: 'png'} )
~~~
***
