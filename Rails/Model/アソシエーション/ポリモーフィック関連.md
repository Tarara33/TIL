# ポリモーフィック関連
1つのモデルが複数の他のモデルと関連することをいう。    
これにより、1つのテーブルで複数の異なるモデルを参照できる。    
    
⚠️ アソシエーションと違って外部キーをつけてテーブルを繋ぐ訳ではないので、    
データベースレベルでの参照整合性は保証されない。    
***  

# 使い方
例えば、記事に入れるブロック(article_block)モデルがあり、 
~~~
create_table "article_blocks", force: :cascade do |t|
    t.integer "article_id"
    t.string "blockable_type"
    t.integer "blockable_id"
    t.integer "level", default: 0, null: false
  end
~~~
    
これを  
文章(sentences)モデル
~~~
create_table "sentences", force: :cascade do |t|
    t.text "body"
  end
~~~
  
写真(media)モデル  
~~~
create_table "media", force: :cascade do |t|
    t.integer "media_type", default: 0, null: false
    t.string "name"
  end
~~~
  
外部SNSの埋め込み(embeds)モデルと関連づけたい。 
~~~
create_table "embeds", force: :cascade do |t|
    t.integer "embed_type", default: 0, null: false
    t.string "identifier"
  end
~~~
    
やりたいこととしては article_blockを作成する時に使う、    
文章、写真、外部SNSの埋め込みという別テーブルに切り分けたコンテンツを  
同じように扱えるようにすることでテーブル構造をシンプルにすること。  
***


# ポリモーフィックの設定
関連づけたいモデルに
~~~
[app/models/article_block.rb]

class ArticleBlock < ApplicationRecord
belongs_to :blockable, polymorphic: true, dependent: :destroy
end
~~~
