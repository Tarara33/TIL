# ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ãƒƒã‚¯é–¢é€£
1ã¤ã®ãƒ¢ãƒ‡ãƒ«ãŒè¤‡æ•°ã®ä»–ã®ãƒ¢ãƒ‡ãƒ«ã¨é–¢é€£ã™ã‚‹ã“ã¨ã‚’ã„ã†ã€‚    
ã“ã‚Œã«ã‚ˆã‚Šã€1ã¤ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã§è¤‡æ•°ã®ç•°ãªã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’å‚ç…§ã§ãã‚‹ã€‚    
    
âš ï¸ ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã¨é•ã£ã¦å¤–éƒ¨ã‚­ãƒ¼ã‚’ã¤ã‘ã¦ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç¹‹ãè¨³ã§ã¯ãªã„ã®ã§ã€    
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¬ãƒ™ãƒ«ã§ã®å‚ç…§æ•´åˆæ€§ã¯ä¿è¨¼ã•ã‚Œãªã„ã€‚    
***  

# ä½¿ã„æ–¹
ä¾‹ãˆã°ã€è¨˜äº‹ã«å…¥ã‚Œã‚‹ãƒ–ãƒ­ãƒƒã‚¯(article_block)ãƒ¢ãƒ‡ãƒ«ãŒã‚ã‚Šã€ 
~~~
create_table "article_blocks", force: :cascade do |t|
    t.integer "article_id"
    t.string "blockable_type"
    t.integer "blockable_id"
    t.integer "level", default: 0, null: false
  end
~~~
    
ã“ã‚Œã‚’  
æ–‡ç« (sentences)ãƒ¢ãƒ‡ãƒ«
~~~
create_table "sentences", force: :cascade do |t|
    t.text "body"
  end
~~~
  
å†™çœŸ(media)ãƒ¢ãƒ‡ãƒ«  
~~~
create_table "media", force: :cascade do |t|
    t.integer "media_type", default: 0, null: false
    t.string "name"
  end
~~~
  
å¤–éƒ¨SNSã®åŸ‹ã‚è¾¼ã¿(embeds)ãƒ¢ãƒ‡ãƒ«ã¨é–¢é€£ã¥ã‘ãŸã„ã€‚ 
~~~
create_table "embeds", force: :cascade do |t|
    t.integer "embed_type", default: 0, null: false
    t.string "identifier"
  end
~~~
    
ã‚„ã‚ŠãŸã„ã“ã¨ã¨ã—ã¦ã¯ article_blockã‚’ä½œæˆã™ã‚‹æ™‚ã«ä½¿ã†ã€    
æ–‡ç« ã€å†™çœŸã€å¤–éƒ¨SNSã®åŸ‹ã‚è¾¼ã¿ã¨ã„ã†åˆ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã«åˆ‡ã‚Šåˆ†ã‘ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’  
åŒã˜ã‚ˆã†ã«æ‰±ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ã™ã‚‹ã“ã¨ã€‚  
***

# ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ãƒƒã‚¯ã®è¨­å®š
é–¢é€£ã¥ã‘ãŸã„ãƒ¢ãƒ‡ãƒ«ã«ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã€‚
~~~
[app/models/article_block.rb]

class ArticleBlock < ApplicationRecord
belongs_to :blockable, polymorphic: true, dependent: :destroy
end
~~~
ğŸ’¡ ã€Œ:blockableã€ã¯ãƒ†ãƒ¼ãƒ–ãƒ«åã§ã¯ãªã„ã®ã§ã€blockableãƒ¢ãƒ‡ãƒ«ãŒã‚ã‚‹è¨³ã§ã¯ãªã„ã€‚    
ã“ã“ã§ã® blockableã¯ã€ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ãƒƒã‚¯é–¢é€£ã‚’è¡¨ã™ãŸã‚ã®åå‰ã€‚    
