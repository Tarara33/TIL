# db/seeds.rbファイルからデーター登録する方法
- 一人分作る
~~~
[db/seeds.rb] 例：Userクラスのインスタンス作りたい

User.create!(
  first_name: '田中',
  last_name: '太郎',
  age: 15
)
~~~
`$ rails db:seed`を実行すると「田中,太郎,15歳」ができる。
***

- 複数作る
~~~
[db/seeds.rb] 例：Userクラスのインスタンス作りたい

10.times do |x|
  User.create!(
    first_name: "first_name#{X}",
    last_name: "last_name#{x}",
  )
end
~~~
`$ rails db:seed`を実行すると「first_name0,last_name0,age0...」データーが10個できる。
***

- Faker gem 使う    
Gemfileに記載して`$bundle'したのち [Faker](https://github.com/faker-ruby/faker/tree/main/doc)から使いたい情報を探す
~~~
[db/seeds.rb] 例：Userクラスのインスタンス作りたい

10.times do |x|
  User.create!(
    first_name: Faker::Name.first_name,
    last_name: Faker::Name.last_name,
  )
end
~~~
`$ rails db:seed`を実行すると「Sara, Draco」など本物っぽいデーターが10個できる。

## 年齢データもランダムで欲しいとき
~~~
[db/seeds.rb] 例：Userクラスのインスタンス作りたい

# 年齢をランダムに生成するメソッド
def generate_random_age
  rand(10..50) =>10~50で作る
end

10.times do 
  User.create!(
    name: Faker::Name.name
    age: generate_random_age
  )
end
~~~
***

# データー作成とリセット
`$ rails db:migrate:reset`でデータベースのデータを消せる。    
`$ rails db:seed`で再度作る。
***

# なぜ create! ??
create!は基本的に createメソッドと同じものだが、ユーザーが無効な場合に falseを返すのではなく例外を発生させる。    
こうしておくと見過ごしやすいエラーを回避できるので、デバッグが容易になる。
***

