# メタ文字とは
正規表現で特殊な意味を持つ非アルファベット文字で、  
その文字本来の意味とは異なり、プログラムで特別な意味を持たせた文字のこと。  
***

# \d
「半角数字 1文字」を表す。  
[0-9]と同等。
~~~
[\d]

[元]　　　　　　　　　　　　　　　　　　　　　　　　　　[hit]
090-1234-5678 => 090 1234 5678
abcde         =>
ｱｲｳｴｵ　　　　　　　　　　　　　　　　　　　　=>
~~~
***

# \w
「英単語を構成する文字（半角英数字とアンダースコア）」を表す。  
[a-zA-Z0-9]と同等。
~~~
[\w]

[元]　　　　　　　　　　　　　　　　　　　　　　　　　　[hit]
090-1234-5678 => 090 1234 5678
abcde         => abcde
ｱｲｳｴｵ　　　　　　　　　　　　　　　　　　　　=>
~~~
***

# .
「任意の1文字」を表す。
~~~
[タ.ララ]

[元]　　　　　　　　　　　　　　　　　　　[hit]
タララ     => 
タ ララ    => タ ララ
タ  ララ　　　　　　=> タ  ララ
タ☆ララ    => タ☆ララ
~~~
***

# ?
「直前の文字が1個、または無し」を表す。
~~~
[タ.ララ]

[元]　　　　　　　　　　　　　　　　　　　[hit]
タララ     => タララ
タ ララ    => タ ララ
タ  ララ　　　　　　=> タ  ララ
タ☆ララ    => タ☆ララ
~~~
***

# +
「直前の文字が1個以上」を表す。
~~~
[ドュラ+]

[元]　　　　　　　　　　　　　　　　　　　[hit]
ドュラ　　　　　　　　　　　　　　=> ドュラ
ドュララア    => ドュララ
ドュラララア  　=> ドュラララ
~~~
***

# *
「直前の文字が0個以上」を表す。
~~~
[ドュラ+]

[元]　　　　　　　　　　　　　　　　　　　[hit]
ドュ　　　　　　　　　　　　　 　　=> ドュ
ドュララア   　　=> ドュララ
ドュラララア  　=> ドュラララ
~~~
***

## ⚠️ 貪欲な + と *
例えば
~~~
<option>りんご</option>
<option>バナナ</option>
~~~
という文字列から、りんご、バナナを抜き出すとき `>.*<`とするとそれぞれヒットする。
~~~
[>.*<]

[元]                       [hit]
<option>りんご</option>    => >りんご<
<option>バナナ</option>   　=> >バナナ<
~~~
しかし以下のように１行になった場合おかしくなる。
~~~
[>.*<]

[元]                                              [hit]
<option>りんご</option> <option>バナナ</option>   　=> >りんご</option><option>バナナ<
~~~
***

## ❓ なぜおかしくなった？？
`>.*<`これは、「> で始まり、任意の文字が0個以上連続し`(.*)`、< で終わる」という意味になるので、  
最初の >を取った後、最後の <を取るので　その間の文字列をとってきてしまう。
***

## 💡 解決策１：「任意の1文字」よりも厳しい条件を指定する
`[^]`を使って　<以外の任意の文字」を作る。
~~~
[>[^<]+<]

[元]                                              [hit]
<option>りんご</option> <option>バナナ</option>   　=> >りんご<, >バナナ<
~~~
***

## 💡 解決策２：最短のマッチを返すように指定する
もう一つの方法は * や + の「貪欲さ」をなくすこと。  
「> で始まり、任意の文字が0個以上連続し`(.*)`、 最後に見つかった < で終わる」を、    
「> で始まり、任意の文字が0個以上連続し`(.*)`、 最初に見つかった < で終わる」に変える。  

その場合「？」をつける。
`*?` や `+?` にすると最長ではなく、最短のマッチを結果として返すようになる。
~~~
[>.*?<]

[元]                                              [hit]
<option>りんご</option><option>バナナ</option>   　=> >りんご<, >バナナ<
~~~
***
